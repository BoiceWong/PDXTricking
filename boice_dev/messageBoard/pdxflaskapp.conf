<VirtualHost *:80>
    ServerName boice.us
    ServerAlias www.boice.us
    DocumentRoot /var/www/pdxflaskapp/pdxflaskapp/
    WSGIDaemonProcess app user=www-data group=www-data threads=5 python-home=/home/boice/.local/share/virtualenvs/flaskenv
    WSGIScriptAlias / /var/www/pdxflaskapp/pdxflaskapp/wsgi.py
    
    <Directory /var/www/pdxflaskapp/pdxflaskapp>
        WSGIProcessGroup app
	WSGIApplicationGroup %{GLOBAL}
	Order deny,allow
	Require all granted
    </Directory>
    
    <IfModule mod_headers.c>
        Header set Access-Control-Allow-Origin "*"
    </IfModule>    
    
    ErrorLog ${APACHE_LOG_DIR}/pdxflaskapp_error.log
    CustomLog ${APACHE_LOG_DIR}/pdxflaskapp_access.log combined
RewriteEngine on
RewriteCond %{SERVER_NAME} =www.boice.us [OR]
RewriteCond %{SERVER_NAME} =boice.us
RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]
</VirtualHost>

